# 📑브라우저의 렌더링 과정
## 목차
  1. [문서 객체 모델(DOM)](#DOM-(Document-Object-Model))
  2. [브라우저 객체 모델(BOM)](#BOM-(Browser-Object-Model))

> 렌더링이란 HTML, CSS, Javascript등의 문서를 브라우저에서 화면에 나타내는 일을 말한다.

## 렌더링 엔진
 렌더링 엔진은 HTML, CSS, Javascript등의 파일을 브라우저가 화면에 표시할 수 있도록 변환하여 픽셀 단위로 나타내 준다. 브라우저마다 사용하는 렌더링 엔진들이 다르기 때문에 같은 코드라도 다르게 그려질 수 있다. 따라서 프론트엔드 개발 시 크로스 브라우징 과정을 거치는 것이 좋다.

## 렌더링 과정
렌더링 엔진의 기본 동작은 다음과 같다.  
  1. [DOM 트리, CSSOM 트리 생성](###1.-DOM-트리,-CSSOM-트리-생성)
  2. [Render 트리 생성](###2.-Render-트리-생성)
  3. [레이아웃](###3.-레이아웃)
  4. [페인팅](###4.-페인팅)

### 1. DOM 트리, CSSOM 트리 생성
 제일 먼저 서버로 부터 HTML과 CSS를 받아온다. HTML과 CSS를 객체로 관리하기 위해 각각 파싱되어 DOM 트리와 CSSOM 트리로 만들어지게 된다.
### 2. Render 트리 생성
그 다음 DOM 트리와 CSSOM 트리를 결합하여 Render Tree를 생성한다.  
Render 트리에는 실제 화면에 표현되는 노드들로만 구성이 되게 된다.
<img src="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/images/render-tree-construction.png?hl=ko" alt="Render tree">  
> 참고로 display:none인 경우 레이아웃에 포함되지 않도록 렌더링 트리에서 요소를 제거한다.

### 3. 레이아웃
이 단계에서는 브라우저의 Viewport내에서 각 노드들의 정확한 위치와 크기를 계산한다.

### 4. 페인팅
레이아웃 계산이 완료되면 요소들을 실제 화면에 그리게 된다.  
렌더링 트리의 각 노드들을 화면의 실제 픽셀로 변환하며 처리해야 하는 스타일이 복잡할 수록 소요되는 시간이 늘어난다.

## 렌더링 최적화
렌더링을 최적화 하기 위해서는 레이아웃 (Reflow) 과정과 페인트 (Repaint)과정을 최소화 시켜주면 된다.

### Reflow
Reflow란 생성된 DOM 노드의 레이아웃 변경 시 영향받은 모든 노드의 수치를 다시 계산하여 렌더 트리를 재 생성하는 과정이다.

### Repaint
Reflow 과정 후 재생성된 렌더 트리를 다시 그리는 과정을 말한다.

### 최적화 방법
1. Reflow를 발생시키는 CSS 속성보다 Repaint만 발생시키는 속성을 사용하면 성능에 도움을 줄 수 있다.
2. DOM TREE 깊이 최소화하여 탐색 시간을 줄인다.
3. 영향받는 엘리먼트 제한하기
4. 프레임 줄이기
5. 애니메이션은 CSS를 이용